CREATE TABLE `tw_ci`.`email_user` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `sentTime` INT NOT NULL,
  `emailType` INT NOT NULL,
  PRIMARY KEY (`id`));

ALTER TABLE `tw_ci`.`email_user` 
ADD INDEX `fk_email_user_1_idx` (`userId` ASC);
ALTER TABLE `tw_ci`.`email_user` 
ADD CONSTRAINT `fk_email_user_1`
  FOREIGN KEY (`userId`)
  REFERENCES `tw_ci`.`user` (`userId`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;

CREATE TABLE `tw_ci`.`email_measure` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `measureId` INT NOT NULL,
  `sentTime` INT NOT NULL,
  `emailType` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_email_measure_1_idx` (`measureId` ASC),
  CONSTRAINT `fk_email_measure_1`
    FOREIGN KEY (`measureId`)
    REFERENCES `tw_ci`.`measure` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);

CREATE TABLE `tw_ci`.`email_watch` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `watchId` INT NOT NULL,
  `sentTime` INT NOT NULL,
  `emailType` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_email_watch_1_idx` (`watchId` ASC),
  CONSTRAINT `fk_email_watch_1`
    FOREIGN KEY (`watchId`)
    REFERENCES `tw_ci`.`watch` (`watchId`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);
